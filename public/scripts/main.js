(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
'use strict';

var app = {};

app.columns = {
  a: [],
  b: [],
  c: [],
  d: [],
  e: [],
  f: [],
  g: []
};
app.nextTurn = ['red'];

app.addPiece = function () {
  $('.column').on('click keyup', function (e) {
    if (e.type === 'click' || e.type === 'keyup' && e.which === 32 || e.type === 'keyup' && e.which === 13) {
      var index = $(this).data("column");
      var selectedColumn = app.columns['' + index];
      if (selectedColumn.length === 6) {
        swal({
          title: 'Can\'t do that! \uD83D\uDE45\uD83C\uDFFB\u200D\u2642'
        });
      } else if (selectedColumn.length < 6) {
        var color = app.nextTurn[app.nextTurn.length - 1];
        var cellNum = selectedColumn.length + 1;
        var i = Object.values(app.columns);
        var x = $(this).data("array");
        var y = cellNum - 1;
        app.placeMarker(index, cellNum, color, selectedColumn);
        app.changeTurn();
        app.checkForWin(i, x, y, color);
        app.tieGame();
      }
    }
  });
};

app.placeMarker = function (index, cellNum, color, selectedColumn) {
  $('.column-' + index + ' .cell-' + cellNum).append('<div class="piece ' + color + ' animated fadeInDownBig faster"></div>');
  selectedColumn.push('' + color);
};

app.changeTurn = function () {
  var currentColor = app.nextTurn[app.nextTurn.length - 1];
  if (currentColor === 'red') {
    app.nextTurn.push('yellow');
    $('.turn-indicator').text('Yellow');
    $('.player-turn').removeClass('red').addClass('yellow');
  } else if (currentColor === 'yellow') {
    app.nextTurn.push('red');
    $('.turn-indicator').text('Red');
    $('.player-turn').removeClass('yellow').addClass('red');
  }
};

app.checkForWin = function (i, x, y, color) {
  app.checkForVerticalWin(i, x, y, color);
  app.checkForHorizontalWin(i, x, y, color);
  app.checkForDiagonalWin(i, x, y, color);
};

app.checkForVerticalWin = function (i, x, y, color) {
  if (i[x][y] === i[x][y - 1] && i[x][y] === i[x][y - 2] && i[x][y] === i[x][y - 3]) {
    app.alertWin(color);
  }
};

app.checkForDiagonalWin = function (i, x, y, color) {
  if (
  // DIAGONAL WINS (TOP-LEFT TO BOTTOM-RIGHT = TL-BR, BOTTOM-LEFT TO TOP-RIGHT = BL-TR) (POS */4 = LEFT-TO-RIGHT)
  i[x + 3] !== undefined && i[x][y] === i[x + 3][y - 3] && i[x + 2] !== undefined && i[x][y] === i[x + 2][y - 2] && i[x + 1] !== undefined && i[x][y] === i[x + 1][y - 1] || // TL-BR POS 1/4
  i[x + 2] !== undefined && i[x][y] === i[x + 2][y - 2] && i[x + 1] !== undefined && i[x][y] === i[x + 1][y - 1] && i[x - 1] !== undefined && i[x][y] === i[x - 1][y + 1] || // TL-BR POS 2/4
  i[x + 1] !== undefined && i[x][y] === i[x + 1][y - 1] && i[x - 1] !== undefined && i[x][y] === i[x - 1][y + 1] && i[x - 2] !== undefined && i[x][y] === i[x - 2][y + 2] || // TL-BR POS 3/4
  i[x - 1] !== undefined && i[x][y] === i[x - 1][y + 1] && i[x - 2] !== undefined && i[x][y] === i[x - 2][y + 2] && i[x - 3] !== undefined && i[x][y] === i[x - 3][y + 3] || // TL-BR POS 4/4
  i[x + 3] !== undefined && i[x][y] === i[x + 3][y + 3] && i[x + 2] !== undefined && i[x][y] === i[x + 2][y + 2] && i[x + 1] !== undefined && i[x][y] === i[x + 1][y + 1] || // BL-TR POS 1/4
  i[x + 2] !== undefined && i[x][y] === i[x + 2][y + 2] && i[x + 1] !== undefined && i[x][y] === i[x + 1][y + 1] && i[x - 1] !== undefined && i[x][y] === i[x - 1][y - 1] || // BL-TR POS 2/4
  i[x + 1] !== undefined && i[x][y] === i[x + 1][y + 1] && i[x - 1] !== undefined && i[x][y] === i[x - 1][y - 1] && i[x - 2] !== undefined && i[x][y] === i[x - 2][y - 2] || // BL-TR POS 3/4
  i[x - 1] !== undefined && i[x][y] === i[x - 1][y - 1] && i[x - 2] !== undefined && i[x][y] === i[x - 2][y - 2] && i[x - 3] !== undefined && i[x][y] === i[x - 3][y - 3] // BL-TR POS 4/4
  ) {
      app.alertWin(color);
    }
};

app.checkForHorizontalWin = function (i, x, y, color) {
  if (i[x + 3] !== undefined && i[x][y] === i[x + 3][y] && i[x + 2] !== undefined && i[x][y] === i[x + 2][y] && i[x + 1] !== undefined && i[x][y] === i[x + 1][y] || i[x + 2] !== undefined && i[x][y] === i[x + 2][y] && i[x + 1] !== undefined && i[x][y] === i[x + 1][y] && i[x - 1] !== undefined && i[x][y] === i[x - 1][y] || i[x + 1] !== undefined && i[x][y] === i[x + 1][y] && i[x - 1] !== undefined && i[x][y] === i[x - 1][y] && i[x - 2] !== undefined && i[x][y] === i[x - 2][y] || i[x - 1] !== undefined && i[x][y] === i[x - 1][y] && i[x - 2] !== undefined && i[x][y] === i[x - 2][y] && i[x - 3] !== undefined && i[x][y] === i[x - 3][y]) {
    app.alertWin(color);
  }
};

app.tieGame = function () {
  if (app.columns.a.length === 6 && app.columns.b.length === 6 && app.columns.c.length === 6 && app.columns.d.length === 6 && app.columns.e.length === 6 && app.columns.f.length === 6 && app.columns.g.length === 6) {
    swal({
      title: 'Tie game! Please play again!'
    }).then(app.resetBoard());
  }
};

app.alertWin = function (color) {
  color = color.charAt(0).toUpperCase() + color.slice(1);
  window.setTimeout(function () {
    swal({
      title: 'Congratulations ' + color + ' player!',
      text: 'Winner Winner Chicken Dinner! \uD83C\uDF57'
    }).then(app.resetBoard());
  }, 650);
};

// EVENT LISTENERS

// Button to show instructions
$('.instructions-show-button').on('click', function () {
  $('.instructions-modal-container').show();
});

// Button to hide instructions
$('.instructions-hide-button').on('click', function (e) {
  $('.instructions-modal-container').hide();
});

// Play again button that clears board and arrays
$('.play-again-button').on('click', function () {
  app.resetBoard();
});

document.addEventListener('keyup', function (e) {
  if (e.which === 27) {
    $('.instructions-modal-container').hide();
  }
});

app.resetBoard = function () {
  app.columns = {
    a: [],
    b: [],
    c: [],
    d: [],
    e: [],
    f: [],
    g: [],
    h: [],
    i: [],
    j: []
  };
  $('.piece').remove();
  $('.cell').css('background-color', 'white');
};

// INIT
app.init = function () {
  app.addPiece();
};

// DOCUMENT READY
$(function () {
  app.init();
});

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJkZXYvc2NyaXB0cy9tYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxJQUFNLE1BQU0sRUFBWjs7QUFFQSxJQUFJLE9BQUosR0FBYztBQUNaLEtBQUcsRUFEUztBQUVaLEtBQUcsRUFGUztBQUdaLEtBQUcsRUFIUztBQUlaLEtBQUcsRUFKUztBQUtaLEtBQUcsRUFMUztBQU1aLEtBQUcsRUFOUztBQU9aLEtBQUc7QUFQUyxDQUFkO0FBU0EsSUFBSSxRQUFKLEdBQWUsQ0FBQyxLQUFELENBQWY7O0FBRUEsSUFBSSxRQUFKLEdBQWUsWUFBWTtBQUN6QixJQUFFLFNBQUYsRUFBYSxFQUFiLENBQWdCLGFBQWhCLEVBQStCLFVBQVUsQ0FBVixFQUFhO0FBQzFDLFFBQUksRUFBRSxJQUFGLEtBQVcsT0FBWCxJQUFzQixFQUFFLElBQUYsS0FBVyxPQUFYLElBQXNCLEVBQUUsS0FBRixLQUFZLEVBQXhELElBQThELEVBQUUsSUFBRixLQUFXLE9BQVgsSUFBc0IsRUFBRSxLQUFGLEtBQVksRUFBcEcsRUFBd0c7QUFDdEcsVUFBTSxRQUFRLEVBQUUsSUFBRixFQUFRLElBQVIsQ0FBYSxRQUFiLENBQWQ7QUFDQSxVQUFNLGlCQUFpQixJQUFJLE9BQUosTUFBZSxLQUFmLENBQXZCO0FBQ0EsVUFBSSxlQUFlLE1BQWYsS0FBMEIsQ0FBOUIsRUFBaUM7QUFDL0IsYUFBSztBQUNIO0FBREcsU0FBTDtBQUdELE9BSkQsTUFJTyxJQUFJLGVBQWUsTUFBZixHQUF3QixDQUE1QixFQUErQjtBQUNwQyxZQUFNLFFBQVEsSUFBSSxRQUFKLENBQWEsSUFBSSxRQUFKLENBQWEsTUFBYixHQUFzQixDQUFuQyxDQUFkO0FBQ0EsWUFBTSxVQUFVLGVBQWUsTUFBZixHQUF3QixDQUF4QztBQUNBLFlBQU0sSUFBSSxPQUFPLE1BQVAsQ0FBYyxJQUFJLE9BQWxCLENBQVY7QUFDQSxZQUFNLElB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bEIsTUFBRSwrQkFBRixFQUFtQyxJQUFuQztBQUNEO0FBQ0YsQ0FKRDs7QUFNQSxJQUFJLFVBQUosR0FBaUIsWUFBTTtBQUNyQixNQUFJLE9BQUosR0FBYztBQUNaLE9BQUcsRUFEUztBQUVaLE9BQUcsRUFGUztBQUdaLE9BQUcsRUFIUztBQUlaLE9BQUcsRUFKUztBQUtaLE9BQUcsRUFMUztBQU1aLE9BQUcsRUFOUztBQU9aLE9BQUcsRUFQUztBQVFaLE9BQUcsRUFSUztBQVNaLE9BQUcsRUFUUztBQVVaLE9BQUc7QUFWUyxHQUFkO0FBWUEsSUFBRSxRQUFGLEVBQVksTUFBWjtBQUNBLElBQUUsT0FBRixFQUFXLEdBQVgsQ0FBZSxrQkFBZixFQUFtQyxPQUFuQztBQUNELENBZkQ7O0FBaUJBO0FBQ0EsSUFBSSxJQUFKLEdBQVcsWUFBVztBQUNwQixNQUFJLFFBQUo7QUFDRCxDQUZEOztBQUlBO0FBQ0EsRUFBRSxZQUFXO0FBQ1gsTUFBSSxJQUFKO0FBQ0QsQ0FGRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImNvbnN0IGFwcCA9IHt9O1xuXG5hcHAuY29sdW1ucyA9IHtcbiAgYTogW10sXG4gIGI6IFtdLFxuICBjOiBbXSxcbiAgZDogW10sXG4gIGU6IFtdLFxuICBmOiBbXSxcbiAgZzogW11cbn1cbmFwcC5uZXh0VHVybiA9IFsncmVkJ107XG5cbmFwcC5hZGRQaWVjZSA9IGZ1bmN0aW9uICgpIHtcbiAgJCgnLmNvbHVtbicpLm9uKCdjbGljayBrZXl1cCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKGUudHlwZSA9PT0gJ2NsaWNrJyB8fCBlLnR5cGUgPT09ICdrZXl1cCcgJiYgZS53aGljaCA9PT0gMzIgfHwgZS50eXBlID09PSAna2V5dXAnICYmIGUud2hpY2ggPT09IDEzKSB7XG4gICAgICBjb25zdCBpbmRleCA9ICQodGhpcykuZGF0YShcImNvbHVtblwiKTtcbiAgICAgIGNvbnN0IHNlbGVjdGVkQ29sdW1uID0gYXBwLmNvbHVtbnNbYCR7aW5kZXh9YF07XG4gICAgICBpZiAoc2VsZWN0ZWRDb2x1bW4ubGVuZ3RoID09PSA2KSB7XG4gICAgICAgIHN3YWwoe1xuICAgICAgICAgIHRpdGxlOiBgQ2FuJ3QgZG8gdGhhdCEg8J+ZhfCfj7vigI3imYJgXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChzZWxlY3RlZENvbHVtbi5sZW5ndGggPCA2KSB7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gYXBwLm5leHRUdXJuW2FwcC5uZXh0VHVybi5sZW5ndGggLSAxXTtcbiAgICAgICAgY29uc3QgY2VsbE51bSA9IHNlbGVjdGVkQ29sdW1uLmxlbmd0aCArIDE7XG4gICAgICAgIGNvbnN0IGkgPSBPYmplY3QudmFsdWVzKGFwcC5jb2x1bW5zKTtcbiAgICAgICAgY29uc3QgeCA9ICQodGhpcykuZGF0YShcImFycmF5XCIpO1xuICAgICAgICBjb25zdCB5ID0gY2VsbE51bSAtIDE7XG4gICAgICAgIGFwcC5wbGFjZU1hcmtlcihpbmRleCwgY2VsbE51bSwgY29sb3IsIHNlbGVjdGVkQ29sdW1uKTtcbiAgICAgICAgYXBwLmNoYW5nZVR1cm4oKTtcbiAgICAgICAgYXBwLmNoZWNrRm9yV2luKGksIHgsIHksIGNvbG9yKTtcbiAgICAgICAgYXBwLnRpZUdhbWUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG5hcHAucGxhY2VNYXJrZXIgPSBmdW5jdGlvbihpbmRleCwgY2VsbE51bSwgY29sb3IsIHNlbGVjdGVkQ29sdW1uKSB7XG4gICQoYC5jb2x1bW4tJHtpbmRleH0gLmNlbGwtJHtjZWxsTnVtfWApLmFwcGVuZChgPGRpdiBjbGFzcz1cInBpZWNlICR7Y29sb3J9IGFuaW1hdGVkIGZhZGVJbkRvd25CaWcgZmFzdGVyXCI+PC9kaXY+YCk7XG4gIHNlbGVjdGVkQ29sdW1uLnB1c2goYCR7Y29sb3J9YCk7XG59XG5cbmFwcC5jaGFuZ2VUdXJuID0gZnVuY3Rpb24oKSB7XG4gIGNvbnN0IGN1cnJlbnRDb2xvciA9IGFwcC5uZXh0VHVyblthcHAubmV4dFR1cm4ubGVuZ3RoIC0gMV07XG4gIGlmIChjdXJyZW50Q29sb3IgPT09ICdyZWQnKSB7XG4gICAgYXBwLm5leHRUdXJuLnB1c2goJ3llbGxvdycpO1xuICAgICQoJy50dXJuLWluZGljYXRvcicpLnRleHQoYFllbGxvd2ApO1xuICAgICQoJy5wbGF5ZXItdHVybicpLnJlbW92ZUNsYXNzKCdyZWQnKS5hZGRDbGFzcygneWVsbG93Jyk7XG4gIH0gZWxzZSBpZiAoY3VycmVudENvbG9yID09PSAneWVsbG93Jykge1xuICAgIGFwcC5uZXh0VHVybi5wdXNoKCdyZWQnKTtcbiAgICAkKCcudHVybi1pbmRpY2F0b3InKS50ZXh0KGBSZWRgKTtcbiAgICAkKCcucGxheWVyLXR1cm4nKS5yZW1vdmVDbGFzcygneWVsbG93JykuYWRkQ2xhc3MoJ3JlZCcpO1xuICB9XG59O1xuXG5hcHAuY2hlY2tGb3JXaW4gPSBmdW5jdGlvbihpLCB4LCB5LCBjb2xvcikge1xuICBhcHAuY2hlY2tGb3JWZXJ0aWNhbFdpbihpLCB4LCB5LCBjb2xvcik7XG4gIGFwcC5jaGVja0Zvckhvcml6b250YWxXaW4oaSwgeCwgeSwgY29sb3IpO1xuICBhcHAuY2hlY2tGb3JEaWFnb25hbFdpbihpLCB4LCB5LCBjb2xvcik7XG59XG5cbmFwcC5jaGVja0ZvclZlcnRpY2FsV2luID0gZnVuY3Rpb24oaSwgeCwgeSwgY29sb3IpIHtcbiAgaWYgKGlbeF1beV0gPT09IGlbeF1beSAtIDFdICYmIGlbeF1beV0gPT09IGlbeF1beSAtIDJdICYmIGlbeF1beV0gPT09IGlbeF1beSAtIDNdKSB7XG4gICAgYXBwLmFsZXJ0V2luKGNvbG9yKTtcbiAgfVxufVxuXG5hcHAuY2hlY2tGb3JEaWFnb25hbFdpbiA9IGZ1bmN0aW9uKGksIHgsIHksIGNvbG9yKSB7XG4gIGlmIChcbiAgICAvLyBESUFHT05BTCBXSU5TIChUT1AtTEVGVCBUTyBCT1RUT00tUklHSFQgPSBUTC1CUiwgQk9UVE9NLUxFRlQgVE8gVE9QLVJJR0hUID0gQkwtVFIpIChQT1MgKi80ID0gTEVGVC1UTy1SSUdIVClcbiAgICAoaVt4ICsgM10gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggKyAzXVt5IC0gM10gJiYgaVt4ICsgMl0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggKyAyXVt5IC0gMl0gJiYgaVt4ICsgMV0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggKyAxXVt5IC0gMV0pIHx8IC8vIFRMLUJSIFBPUyAxLzRcbiAgICAoaVt4ICsgMl0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggKyAyXVt5IC0gMl0gJiYgaVt4ICsgMV0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggKyAxXVt5IC0gMV0gJiYgaVt4IC0gMV0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggLSAxXVt5ICsgMV0pIHx8IC8vIFRMLUJSIFBPUyAyLzRcbiAgICAoaVt4ICsgMV0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggKyAxXVt5IC0gMV0gJiYgaVt4IC0gMV0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggLSAxXVt5ICsgMV0gJiYgaVt4IC0gMl0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggLSAyXVt5ICsgMl0pIHx8IC8vIFRMLUJSIFBPUyAzLzRcbiAgICAoaVt4IC0gMV0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggLSAxXVt5ICsgMV0gJiYgaVt4IC0gMl0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggLSAyXVt5ICsgMl0gJiYgaVt4IC0gM10gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggLSAzXVt5ICsgM10pIHx8IC8vIFRMLUJSIFBPUyA0LzRcbiAgICAoaVt4ICsgM10gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggKyAzXVt5ICsgM10gJiYgaVt4ICsgMl0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggKyAyXVt5ICsgMl0gJiYgaVt4ICsgMV0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggKyAxXVt5ICsgMV0pIHx8IC8vIEJMLVRSIFBPUyAxLzRcbiAgICAoaVt4ICsgMl0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggKyAyXVt5ICsgMl0gJiYgaVt4ICsgMV0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggKyAxXVt5ICsgMV0gJiYgaVt4IC0gMV0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggLSAxXVt5IC0gMV0pIHx8IC8vIEJMLVRSIFBPUyAyLzRcbiAgICAoaVt4ICsgMV0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggKyAxXVt5ICsgMV0gJiYgaVt4IC0gMV0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggLSAxXVt5IC0gMV0gJiYgaVt4IC0gMl0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggLSAyXVt5IC0gMl0pIHx8IC8vIEJMLVRSIFBPUyAzLzRcbiAgICAoaVt4IC0gMV0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggLSAxXVt5IC0gMV0gJiYgaVt4IC0gMl0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggLSAyXVt5IC0gMl0gJiYgaVt4IC0gM10gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggLSAzXVt5IC0gM10pICAgIC8vIEJMLVRSIFBPUyA0LzRcbiAgICApIHtcbiAgICAgIGFwcC5hbGVydFdpbihjb2xvcik7XG4gIH1cbn1cblxuYXBwLmNoZWNrRm9ySG9yaXpvbnRhbFdpbiA9IGZ1bmN0aW9uKGksIHgsIHksIGNvbG9yKSB7XG4gIGlmIChcbiAgICAoaVt4ICsgM10gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggKyAzXVt5XSAmJiBpW3ggKyAyXSAhPT0gdW5kZWZpbmVkICYmIGlbeF1beV0gPT09IGlbeCArIDJdW3ldICYmIGlbeCArIDFdICE9PSB1bmRlZmluZWQgJiYgaVt4XVt5XSA9PT0gaVt4ICsgMV1beV0pIHx8XG4gICAgKGlbeCArIDJdICE9PSB1bmRlZmluZWQgJiYgaVt4XVt5XSA9PT0gaVt4ICsgMl1beV0gJiYgaVt4ICsgMV0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggKyAxXVt5XSAmJiBpW3ggLSAxXSAhPT0gdW5kZWZpbmVkICYmIGlbeF1beV0gPT09IGlbeCAtIDFdW3ldKSB8fFxuICAgIChpW3ggKyAxXSAhPT0gdW5kZWZpbmVkICYmIGlbeF1beV0gPT09IGlbeCArIDFdW3ldICYmIGlbeCAtIDFdICE9PSB1bmRlZmluZWQgJiYgaVt4XVt5XSA9PT0gaVt4IC0gMV1beV0gJiYgaVt4IC0gMl0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggLSAyXVt5XSkgfHxcbiAgICAoaVt4IC0gMV0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggLSAxXVt5XSAmJiBpW3ggLSAyXSAhPT0gdW5kZWZpbmVkICYmIGlbeF1beV0gPT09IGlbeCAtIDJdW3ldICYmIGlbeCAtIDNdICE9PSB1bmRlZmluZWQgJiYgaVt4XVt5XSA9PT0gaVt4IC0gM11beV0pXG4gICAgKSB7XG4gICAgICBhcHAuYWxlcnRXaW4oY29sb3IpO1xuICB9XG59XG5cbmFwcC50aWVHYW1lID0gZnVuY3Rpb24oKSB7XG4gIGlmIChcbiAgICBhcHAuY29sdW1ucy5hLmxlbmd0aCA9PT0gNiAmJlxuICAgIGFwcC5jb2x1bW5zLmIubGVuZ3RoID09PSA2ICYmXG4gICAgYXBwLmNvbHVtbnMuYy5sZW5ndGggPT09IDYgJiZcbiAgICBhcHAuY29sdW1ucy5kLmxlbmd0aCA9PT0gNiAmJlxuICAgIGFwcC5jb2x1bW5zLmUubGVuZ3RoID09PSA2ICYmXG4gICAgYXBwLmNvbHVtbnMuZi5sZW5ndGggPT09IDYgJiZcbiAgICBhcHAuY29sdW1ucy5nLmxlbmd0aCA9PT0gNlxuICAgICkge1xuICAgICAgc3dhbCh7XG4gICAgICAgIHRpdGxlOiAnVGllIGdhbWUhIFBsZWFzZSBwbGF5IGFnYWluISdcbiAgICAgIH0pLnRoZW4oYXBwLnJlc2V0Qm9hcmQoKSlcbiAgICB9XG59XG5cbmFwcC5hbGVydFdpbiA9IGZ1bmN0aW9uKGNvbG9yKSB7XG4gIGNvbG9yID0gY29sb3IuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBjb2xvci5zbGljZSgxKTtcbiAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgc3dhbCh7XG4gICAgICB0aXRsZTogYENvbmdyYXR1bGF0aW9ucyAke2NvbG9yfSBwbGF5ZXIhYCxcbiAgICAgIHRleHQ6IGBXaW5uZXIgV2lubmVyIENoaWNrZW4gRGlubmVyISDwn42XYCxcbiAgICB9KS50aGVuKGFwcC5yZXNldEJvYXJkKCkpO1xuICB9LCA2NTApO1xufVxuXG5cbi8vIEVWRU5UIExJU1RFTkVSU1xuXG4vLyBCdXR0b24gdG8gc2hvdyBpbnN0cnVjdGlvbnNcbiQoJy5pbnN0cnVjdGlvbnMtc2hvdy1idXR0b24nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgJCgnLmluc3RydWN0aW9ucy1tb2RhbC1jb250YWluZXInKS5zaG93KCk7XG59KVxuXG4vLyBCdXR0b24gdG8gaGlkZSBpbnN0cnVjdGlvbnNcbiQoJy5pbnN0cnVjdGlvbnMtaGlkZS1idXR0b24nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICQoJy5pbnN0cnVjdGlvbnMtbW9kYWwtY29udGFpbmVyJykuaGlkZSgpO1xufSlcblxuLy8gUGxheSBhZ2FpbiBidXR0b24gdGhhdCBjbGVhcnMgYm9hcmQgYW5kIGFycmF5c1xuJCgnLnBsYXktYWdhaW4tYnV0dG9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gIGFwcC5yZXNldEJvYXJkKCk7XG59KVxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uKGUpIHtcbiAgaWYgKGUud2hpY2ggPT09IDI3KSB7XG4gICAgJCgnLmluc3RydWN0aW9ucy1tb2RhbC1jb250YWluZXInKS5oaWRlKCk7XG4gIH1cbn0pXG5cbmFwcC5yZXNldEJvYXJkID0gKCkgPT4ge1xuICBhcHAuY29sdW1ucyA9IHtcbiAgICBhOiBbXSxcbiAgICBiOiBbXSxcbiAgICBjOiBbXSxcbiAgICBkOiBbXSxcbiAgICBlOiBbXSxcbiAgICBmOiBbXSxcbiAgICBnOiBbXSxcbiAgICBoOiBbXSxcbiAgICBpOiBbXSxcbiAgICBqOiBbXVxuICB9XG4gICQoJy5waWVjZScpLnJlbW92ZSgpO1xuICAkKCcuY2VsbCcpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsICd3aGl0ZScpO1xufVxuXG4vLyBJTklUXG5hcHAuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICBhcHAuYWRkUGllY2UoKTtcbn1cblxuLy8gRE9DVU1FTlQgUkVBRFlcbiQoZnVuY3Rpb24oKSB7XG4gIGFwcC5pbml0KCk7XG59KSJdfQ==
