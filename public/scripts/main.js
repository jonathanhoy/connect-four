(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

var app = {};

app.columns = {
  a: [],
  b: [],
  c: [],
  d: [],
  e: [],
  f: [],
  g: []
  // h: [], // h, i, and j are extra columns used solely for checkWin functions.
  // i: [],
  // j: []
};
app.nextTurn = ['red'];
app.chaosColors = ["AliceBlue", "AntiqueWhite", "Aqua", "Aquamarine", "Azure", "Beige", "Bisque", "BlanchedAlmond", "Blue", "BlueViolet", "Brown", "BurlyWood", "CadetBlue", "Chartreuse", "Chocolate", "Coral", "CornflowerBlue", "Cornsilk", "Crimson", "Cyan", "DarkBlue", "DarkCyan", "DarkGoldenRod", "DarkGray", "DarkGrey", "DarkGreen", "DarkKhaki", "DarkMagenta", "DarkOliveGreen", "Darkorange", "DarkOrchid", "DarkRed", "DarkSalmon", "DarkSeaGreen", "DarkSlateBlue", "DarkSlateGray", "DarkSlateGrey", "DarkTurquoise", "DarkViolet", "DeepPink", "DeepSkyBlue", "DimGray", "DimGrey", "DodgerBlue", "FireBrick", "FloralWhite", "ForestGreen", "Fuchsia", "Gainsboro", "GhostWhite", "Gold", "GoldenRod", "Gray", "Grey", "Green", "GreenYellow", "HoneyDew", "HotPink", "IndianRed", "Indigo", "Ivory", "Khaki", "Lavender", "LavenderBlush", "LawnGreen", "LemonChiffon", "LightBlue", "LightCoral", "LightCyan", "LightGoldenRodYellow", "LightGray", "LightGrey", "LightGreen", "LightPink", "LightSalmon", "LightSeaGreen", "LightSkyBlue", "LightSlateGray", "LightSlateGrey", "LightSteelBlue", "LightYellow", "Lime", "LimeGreen", "Linen", "Magenta", "Maroon", "MediumAquaMarine", "MediumBlue", "MediumOrchid", "MediumPurple", "MediumSeaGreen", "MediumSlateBlue", "MediumSpringGreen", "MediumTurquoise", "MediumVioletRed", "MidnightBlue", "MintCream", "MistyRose", "Moccasin", "NavajoWhite", "Navy", "OldLace", "Olive", "OliveDrab", "Orange", "OrangeRed", "Orchid", "PaleGoldenRod", "PaleGreen", "PaleTurquoise", "PaleVioletRed", "PapayaWhip", "PeachPuff", "Peru", "Pink", "Plum", "PowderBlue", "Purple", "RebeccaPurple", "Red", "RosyBrown", "RoyalBlue", "SaddleBrown", "Salmon", "SandyBrown", "SeaGreen", "SeaShell", "Sienna", "Silver", "SkyBlue", "SlateBlue", "SlateGray", "SlateGrey", "Snow", "SpringGreen", "SteelBlue", "Tan", "Teal", "Thistle", "Tomato", "Turquoise", "Violet", "Wheat", "WhiteSmoke", "Yellow", "YellowGreen"];

app.addPiece = function () {
  $('.column').on('click', function () {
    var index = $(this).data("column");
    var selectedColumn = app.columns["" + index];
    if (selectedColumn.length === 6) {
      swal({
        title: "Can't do that! \uD83D\uDE45\uD83C\uDFFB\u200D\u2642"
      });
    } else if (selectedColumn.length < 6) {
      var color = app.nextTurn[app.nextTurn.length - 1];
      var cellNum = selectedColumn.length + 1;
      var i = Object.values(app.columns);
      var x = $(this).data("array");
      var y = cellNum - 1;
      app.placeMarker(index, cellNum, color, selectedColumn);
      app.changeTurn();
      app.checkForWin(i, x, y, color);
      app.tieGame();
    }
  });
};

app.placeMarker = function (index, cellNum, color, selectedColumn) {
  app.randomColor = app.chaosColors[Math.floor(Math.random() * app.chaosColors.length) + 1];
  if (app.chaosMode === true) {
    $(".column-" + index + " .cell-" + cellNum).append("<div class=\"piece animated jello infinite faster\"></div>").css('background-color', "" + app.randomColor);
  } else {
    $(".column-" + index + " .cell-" + cellNum).append("<div class=\"piece " + color + " animated fadeInDownBig faster\"></div>");
  }
  selectedColumn.push("" + color);
};

app.changeTurn = function () {
  var currentColor = app.nextTurn[app.nextTurn.length - 1];
  if (currentColor === 'red') {
    app.nextTurn.push('yellow');
    $('.turn-indicator').text("Yellow");
  } else if (currentColor === 'yellow') {
    app.nextTurn.push('red');
    $('.turn-indicator').text("Red");
  }
};

app.checkForWin = function (i, x, y, color) {
  app.checkForVerticalWin(i, x, y, color);
  app.checkForHorizontalWin(i, x, y, color);
  app.checkForDiagonalWin(i, x, y, color);
  app.checkForOtherWins(i, x, y, color);
};

app.checkForVerticalWin = function (i, x, y, color) {
  if (i[x][y] === i[x][y - 1] && i[x][y] === i[x][y - 2] && i[x][y] === i[x][y - 3]) {
    app.alertWin(color);
  }
};

app.checkForDiagonalWin = function (i, x, y, color) {
  if (
  // DIAGONAL WINS (TOP-LEFT TO BOTTOM-RIGHT = TL-BR, BOTTOM-LEFT TO TOP-RIGHT = BL-TR) (POS */4 = LEFT-TO-RIGHT)
  i[x + 3] !== undefined && i[x][y] === i[x + 3][y - 3] && i[x + 2] !== undefined && i[x][y] === i[x + 2][y - 2] && i[x + 1] !== undefined && i[x][y] === i[x + 1][y - 1] || // TL-BR POS 1/4
  i[x + 2] !== undefined && i[x][y] === i[x + 2][y - 2] && i[x + 1] !== undefined && i[x][y] === i[x + 1][y - 1] && i[x - 1] !== undefined && i[x][y] === i[x - 1][y + 1] || // TL-BR POS 2/4
  i[x + 1] !== undefined && i[x][y] === i[x + 1][y - 1] && i[x - 1] !== undefined && i[x][y] === i[x - 1][y + 1] && i[x - 2] !== undefined && i[x][y] === i[x - 2][y + 2] || // TL-BR POS 3/4
  i[x + 3] !== undefined && i[x][y] === i[x + 3][y + 3] && i[x + 2] !== undefined && i[x][y] === i[x + 2][y + 2] && i[x + 1] !== undefined && i[x][y] === i[x + 1][y + 1] || // BL-TR POS 1/4
  i[x + 2] !== undefined && i[x][y] === i[x + 2][y + 2] && i[x + 1] !== undefined && i[x][y] === i[x + 1][y + 1] && i[x - 1] !== undefined && i[x][y] === i[x - 1][y - 1] || // BL-TR POS 2/4
  i[x + 1] !== undefined && i[x][y] === i[x + 1][y + 1] && i[x - 1] !== undefined && i[x][y] === i[x - 1][y - 1] && i[x - 2] !== undefined && i[x][y] === i[x - 2][y - 2] // BL-TR POS 3/4
  ) {
      app.alertWin(color);
    }
};

app.checkForHorizontalWin = function (i, x, y, color) {
  if (i[x + 3] !== undefined && i[x][y] === i[x + 3][y] && i[x + 2] !== undefined && i[x][y] === i[x + 2][y] && i[x + 1] !== undefined && i[x][y] === i[x + 1][y] || i[x + 2] !== undefined && i[x][y] === i[x + 2][y] && i[x + 1] !== undefined && i[x][y] === i[x + 1][y] && i[x - 1] !== undefined && i[x][y] === i[x - 1][y] || i[x + 1] !== undefined && i[x][y] === i[x + 1][y] && i[x - 1] !== undefined && i[x][y] === i[x - 1][y] && i[x - 2] !== undefined && i[x][y] === i[x - 2][y]) {
    app.alertWin(color);
  }
};

app.checkForOtherWins = function (i, x, y, color) {
  if (i[x - 1] !== undefined && i[x][y] === i[x - 1][y + 1] && i[x - 2] !== undefined && i[x][y] === i[x - 2][y + 2] && i[x - 3] !== undefined && i[x][y] === i[x - 3][y + 3] || // TL-BR POS 4/4
  i[x - 1] !== undefined && i[x][y] === i[x - 1][y - 1] && i[x - 2] !== undefined && i[x][y] === i[x - 2][y - 2] && i[x - 3] !== undefined && i[x][y] === i[x - 3][y - 3] || // BL-TR POS 4/4
  i[x - 1] !== undefined && i[x][y] === i[x - 1][y] && i[x - 2] !== undefined && i[x][y] === i[x - 2][y] && i[x - 3] !== undefined && i[x][y] === i[x - 3][y] // HORIZONTAL WIN WITH NEGATIVE X-VALUE
  ) {
      app.alertWin(color);
    }
};

app.tieGame = function () {
  if (app.columns.a.length === 6 && app.columns.b.length === 6 && app.columns.c.length === 6 && app.columns.d.length === 6 && app.columns.e.length === 6 && app.columns.f.length === 6 && app.columns.g.length === 6) {
    swal({
      title: 'Tie game! Please play again!'
    });
  }
};

app.alertWin = function (color) {
  color = color.charAt(0).toUpperCase() + color.slice(1);
  window.setTimeout(function () {
    swal({
      title: "Congratulations " + color + " player!",
      text: "Winner Winner Chicken Dinner! \uD83C\uDF57"
    }).then(app.resetBoard());
  }, 650);
};

// EVENT LISTENERS

// Flickity for image carousel in instructions pop up
$('.instructions-images-carousel').flickity({
  cellAlign: 'center',
  contain: true,
  wrapAround: true
});

// Button to show instructions
$('.instructions-button').on('click', function () {
  $('.instructions-pop-out-container').show();
  $('.instructions-images-carousel').show().flickity('resize');
});

// Icon to hide instructions
$('.instructions-exit').on('click', function () {
  $('.instructions-pop-out-container').hide();
});

// Play again button that clears board and arrays
$('.play-again-button').on('click', function () {
  app.resetBoard();
});

app.resetBoard = function () {
  $('button').on('click', function () {
    app.columns = {
      a: [],
      b: [],
      c: [],
      d: [],
      e: [],
      f: [],
      g: [],
      h: [],
      i: [],
      j: []
    };
    $('.piece').remove();
    $('.cell').css('background-color', 'white');
  });
};

// Chaos mode button for mobile
$('.chaos-button').on('click', function () {
  $('.instructions-pop-out-container').hide();
  app.chaosMode = true;
  app.konamiCodePosition = 0;
  var text = 'life is chaos ðŸ˜ˆ'.toUpperCase();
  swal({
    title: text,
    content: 'a'
  });
  app.chaosTitle();
});

// CHAOS MODE
// Konami code credit: https://stackoverflow.com/questions/31626852/how-to-add-konami-code-in-a-website-based-on-html

app.allowedKeys = {
  76: 'l',
  73: 'i',
  70: 'f',
  69: 'e',
  83: 's',
  67: 'c',
  72: 'h',
  65: 'a',
  79: 'o'
};

app.konamiCode = ['l', 'i', 'f', 'e', 'i', 's', 'c', 'h', 'a', 'o', 's'];
app.konamiCodePosition = 0;
app.chaosMode = false;
document.addEventListener('keydown', function (e) {
  var key = app.allowedKeys[e.keyCode];
  var requiredKey = app.konamiCode[app.konamiCodePosition];
  if (key === requiredKey) {
    app.konamiCodePosition++;
    if (app.konamiCodePosition === app.konamiCode.length) {
      app.chaosMode = true;
      app.konamiCodePosition = 0;
      var text = 'life is chaos ðŸ˜ˆ'.toUpperCase();
      swal({
        title: text
      });
      app.chaosTitle();
    }
  } else {
    app.konamiCodePosition = 0;
  }
});
app.chaosTitle = function () {
  setInterval(function () {
    var random = app.chaosColors[Math.floor(Math.random() * app.chaosColors.length)].toString();
    var text = 'life is chaos'.toUpperCase();
    $('.main-title').text("" + text);
    $('.main-title').css('color', "" + random);
  }, 50);
};

// INIT
app.init = function () {
  app.addPiece();
};

// DOCUMENT READY
$(function () {
  app.init();
});

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJkZXYvc2NyaXB0cy9tYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxJQUFNLE1BQU0sRUFBWjs7QUFFQSxJQUFJLE9BQUosR0FBYztBQUNaLEtBQUcsRUFEUztBQUVaLEtBQUcsRUFGUztBQUdaLEtBQUcsRUFIUztBQUlaLEtBQUcsRUFKUztBQUtaLEtBQUcsRUFMUztBQU1aLEtBQUcsRUFOUztBQU9aLEtBQUc7QUFDSDtBQUNBO0FBQ0E7QUFWWSxDQUFkO0FBWUEsSUFBSSxRQUFKLEdBQWUsQ0FBQyxLQUFELENBQWY7QUFDQSxJQUFJLFdBQUosR0FBa0IsQ0FBQyxXQUFELEVBQWMsY0FBZCxFQUE4QixNQUE5QixFQUFzQyxZQUF0QyxFQUFvRCxPQUFwRCxFQUE2RCxPQUE3RCxFQUFzRSxRQUF0RSxFQUFnRixnQkFBaEYsRUFBa0csTUFBbEcsRUFBMEcsWUFBMUcsRUFBd0gsT0FBeEgsRUFBaUksV0FBakksRUFBOEksV0FBOUksRUFBMkosWUFBM0osRUFBeUssV0FBekssRUFBc0wsT0FBdEwsRUFBK0wsZ0JBQS9MLEVBQWlOLFVBQWpOLEVBQTZOLFNBQTdOLEVBQXdPLE1BQXhPLEVBQWdQLFVBQWhQLEVBQTRQLFVBQTVQLEVBQXdRLGVBQXhRLEVBQXlSLFVBQXpSLEVBQXFTLFVBQXJTLEVBQWlULFdBQWpULEVBQThULFdBQTlULEVBQTJVLGFBQTNVLEVBQTBWLGdCQUExVixFQUE0VyxZQUE1VyxFQUEwWCxZQUExWCxFQUF3WSxTQUF4WSxFQUFtWixZQUFuWixFQUFpYSxjQUFqYSxFQUFpYixlQUFqYixFQUFrYyxlQUFsYyxFQUFtZCxlQUFuZCxFQUFvZSxlQUFwZSxFQUFxZixZQUFyZixFQUFtZ0IsVUFBbmdCLEVBQStnQixhQUEvZ0IsRUFBOGhCLFNBQTloQixFQUF5aUIsU0FBemlCLEVBQW9qQixZQUFwakIsRUFBa2tCLFdBQWxrQixFQUEra0IsYUFB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ekI7QUFDRDtBQUNGLENBakJEO0FBa0JBLElBQUksVUFBSixHQUFpQixZQUFXO0FBQzFCLGNBQVksWUFBWTtBQUN0QixRQUFNLFNBQVUsSUFBSSxXQUFKLENBQWdCLEtBQUssS0FBTCxDQUFXLEtBQUssTUFBTCxLQUFnQixJQUFJLFdBQUosQ0FBZ0IsTUFBM0MsQ0FBaEIsQ0FBRCxDQUFzRSxRQUF0RSxFQUFmO0FBQ0EsUUFBTSxPQUFRLGVBQUQsQ0FBa0IsV0FBbEIsRUFBYjtBQUNBLE1BQUUsYUFBRixFQUFpQixJQUFqQixNQUF5QixJQUF6QjtBQUNBLE1BQUUsYUFBRixFQUFpQixHQUFqQixDQUFxQixPQUFyQixPQUFpQyxNQUFqQztBQUNELEdBTEQsRUFLRyxFQUxIO0FBTUQsQ0FQRDs7QUFTQTtBQUNBLElBQUksSUFBSixHQUFXLFlBQVc7QUFDcEIsTUFBSSxRQUFKO0FBQ0QsQ0FGRDs7QUFLQTtBQUNBLEVBQUUsWUFBVztBQUNYLE1BQUksSUFBSjtBQUNELENBRkQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJjb25zdCBhcHAgPSB7fTtcblxuYXBwLmNvbHVtbnMgPSB7XG4gIGE6IFtdLFxuICBiOiBbXSxcbiAgYzogW10sXG4gIGQ6IFtdLFxuICBlOiBbXSxcbiAgZjogW10sXG4gIGc6IFtdLFxuICAvLyBoOiBbXSwgLy8gaCwgaSwgYW5kIGogYXJlIGV4dHJhIGNvbHVtbnMgdXNlZCBzb2xlbHkgZm9yIGNoZWNrV2luIGZ1bmN0aW9ucy5cbiAgLy8gaTogW10sXG4gIC8vIGo6IFtdXG59XG5hcHAubmV4dFR1cm4gPSBbJ3JlZCddO1xuYXBwLmNoYW9zQ29sb3JzID0gW1wiQWxpY2VCbHVlXCIsIFwiQW50aXF1ZVdoaXRlXCIsIFwiQXF1YVwiLCBcIkFxdWFtYXJpbmVcIiwgXCJBenVyZVwiLCBcIkJlaWdlXCIsIFwiQmlzcXVlXCIsIFwiQmxhbmNoZWRBbG1vbmRcIiwgXCJCbHVlXCIsIFwiQmx1ZVZpb2xldFwiLCBcIkJyb3duXCIsIFwiQnVybHlXb29kXCIsIFwiQ2FkZXRCbHVlXCIsIFwiQ2hhcnRyZXVzZVwiLCBcIkNob2NvbGF0ZVwiLCBcIkNvcmFsXCIsIFwiQ29ybmZsb3dlckJsdWVcIiwgXCJDb3Juc2lsa1wiLCBcIkNyaW1zb25cIiwgXCJDeWFuXCIsIFwiRGFya0JsdWVcIiwgXCJEYXJrQ3lhblwiLCBcIkRhcmtHb2xkZW5Sb2RcIiwgXCJEYXJrR3JheVwiLCBcIkRhcmtHcmV5XCIsIFwiRGFya0dyZWVuXCIsIFwiRGFya0toYWtpXCIsIFwiRGFya01hZ2VudGFcIiwgXCJEYXJrT2xpdmVHcmVlblwiLCBcIkRhcmtvcmFuZ2VcIiwgXCJEYXJrT3JjaGlkXCIsIFwiRGFya1JlZFwiLCBcIkRhcmtTYWxtb25cIiwgXCJEYXJrU2VhR3JlZW5cIiwgXCJEYXJrU2xhdGVCbHVlXCIsIFwiRGFya1NsYXRlR3JheVwiLCBcIkRhcmtTbGF0ZUdyZXlcIiwgXCJEYXJrVHVycXVvaXNlXCIsIFwiRGFya1Zpb2xldFwiLCBcIkRlZXBQaW5rXCIsIFwiRGVlcFNreUJsdWVcIiwgXCJEaW1HcmF5XCIsIFwiRGltR3JleVwiLCBcIkRvZGdlckJsdWVcIiwgXCJGaXJlQnJpY2tcIiwgXCJGbG9yYWxXaGl0ZVwiLCBcIkZvcmVzdEdyZWVuXCIsIFwiRnVjaHNpYVwiLCBcIkdhaW5zYm9yb1wiLCBcIkdob3N0V2hpdGVcIiwgXCJHb2xkXCIsIFwiR29sZGVuUm9kXCIsIFwiR3JheVwiLCBcIkdyZXlcIiwgXCJHcmVlblwiLCBcIkdyZWVuWWVsbG93XCIsIFwiSG9uZXlEZXdcIiwgXCJIb3RQaW5rXCIsIFwiSW5kaWFuUmVkXCIsIFwiSW5kaWdvXCIsIFwiSXZvcnlcIiwgXCJLaGFraVwiLCBcIkxhdmVuZGVyXCIsIFwiTGF2ZW5kZXJCbHVzaFwiLCBcIkxhd25HcmVlblwiLCBcIkxlbW9uQ2hpZmZvblwiLCBcIkxpZ2h0Qmx1ZVwiLCBcIkxpZ2h0Q29yYWxcIiwgXCJMaWdodEN5YW5cIiwgXCJMaWdodEdvbGRlblJvZFllbGxvd1wiLCBcIkxpZ2h0R3JheVwiLCBcIkxpZ2h0R3JleVwiLCBcIkxpZ2h0R3JlZW5cIiwgXCJMaWdodFBpbmtcIiwgXCJMaWdodFNhbG1vblwiLCBcIkxpZ2h0U2VhR3JlZW5cIiwgXCJMaWdodFNreUJsdWVcIiwgXCJMaWdodFNsYXRlR3JheVwiLCBcIkxpZ2h0U2xhdGVHcmV5XCIsIFwiTGlnaHRTdGVlbEJsdWVcIiwgXCJMaWdodFllbGxvd1wiLCBcIkxpbWVcIiwgXCJMaW1lR3JlZW5cIiwgXCJMaW5lblwiLCBcIk1hZ2VudGFcIiwgXCJNYXJvb25cIiwgXCJNZWRpdW1BcXVhTWFyaW5lXCIsIFwiTWVkaXVtQmx1ZVwiLCBcIk1lZGl1bU9yY2hpZFwiLCBcIk1lZGl1bVB1cnBsZVwiLCBcIk1lZGl1bVNlYUdyZWVuXCIsIFwiTWVkaXVtU2xhdGVCbHVlXCIsIFwiTWVkaXVtU3ByaW5nR3JlZW5cIiwgXCJNZWRpdW1UdXJxdW9pc2VcIiwgXCJNZWRpdW1WaW9sZXRSZWRcIiwgXCJNaWRuaWdodEJsdWVcIiwgXCJNaW50Q3JlYW1cIiwgXCJNaXN0eVJvc2VcIiwgXCJNb2NjYXNpblwiLCBcIk5hdmFqb1doaXRlXCIsIFwiTmF2eVwiLCBcIk9sZExhY2VcIiwgXCJPbGl2ZVwiLCBcIk9saXZlRHJhYlwiLCBcIk9yYW5nZVwiLCBcIk9yYW5nZVJlZFwiLCBcIk9yY2hpZFwiLCBcIlBhbGVHb2xkZW5Sb2RcIiwgXCJQYWxlR3JlZW5cIiwgXCJQYWxlVHVycXVvaXNlXCIsIFwiUGFsZVZpb2xldFJlZFwiLCBcIlBhcGF5YVdoaXBcIiwgXCJQZWFjaFB1ZmZcIiwgXCJQZXJ1XCIsIFwiUGlua1wiLCBcIlBsdW1cIiwgXCJQb3dkZXJCbHVlXCIsIFwiUHVycGxlXCIsIFwiUmViZWNjYVB1cnBsZVwiLCBcIlJlZFwiLCBcIlJvc3lCcm93blwiLCBcIlJveWFsQmx1ZVwiLCBcIlNhZGRsZUJyb3duXCIsIFwiU2FsbW9uXCIsIFwiU2FuZHlCcm93blwiLCBcIlNlYUdyZWVuXCIsIFwiU2VhU2hlbGxcIiwgXCJTaWVubmFcIiwgXCJTaWx2ZXJcIiwgXCJTa3lCbHVlXCIsIFwiU2xhdGVCbHVlXCIsIFwiU2xhdGVHcmF5XCIsIFwiU2xhdGVHcmV5XCIsIFwiU25vd1wiLCBcIlNwcmluZ0dyZWVuXCIsIFwiU3RlZWxCbHVlXCIsIFwiVGFuXCIsIFwiVGVhbFwiLCBcIlRoaXN0bGVcIiwgXCJUb21hdG9cIiwgXCJUdXJxdW9pc2VcIiwgXCJWaW9sZXRcIiwgXCJXaGVhdFwiLCBcIldoaXRlU21va2VcIiwgXCJZZWxsb3dcIiwgXCJZZWxsb3dHcmVlblwiXTtcblxuYXBwLmFkZFBpZWNlID0gZnVuY3Rpb24oKSB7XG4gICQoJy5jb2x1bW4nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgaW5kZXggPSAkKHRoaXMpLmRhdGEoXCJjb2x1bW5cIik7XG4gICAgY29uc3Qgc2VsZWN0ZWRDb2x1bW4gPSBhcHAuY29sdW1uc1tgJHtpbmRleH1gXTtcbiAgICBpZiAoc2VsZWN0ZWRDb2x1bW4ubGVuZ3RoID09PSA2KSB7XG4gICAgICBzd2FsKHtcbiAgICAgICAgdGl0bGU6IGBDYW4ndCBkbyB0aGF0ISDwn5mF8J+Pu+KAjeKZgmBcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWRDb2x1bW4ubGVuZ3RoIDwgNikge1xuICAgICAgY29uc3QgY29sb3IgPSBhcHAubmV4dFR1cm5bYXBwLm5leHRUdXJuLmxlbmd0aCAtIDFdO1xuICAgICAgY29uc3QgY2VsbE51bSA9IHNlbGVjdGVkQ29sdW1uLmxlbmd0aCArIDE7XG4gICAgICBjb25zdCBpID0gT2JqZWN0LnZhbHVlcyhhcHAuY29sdW1ucyk7XG4gICAgICBjb25zdCB4ID0gJCh0aGlzKS5kYXRhKFwiYXJyYXlcIik7XG4gICAgICBjb25zdCB5ID0gY2VsbE51bSAtIDE7XG4gICAgICBhcHAucGxhY2VNYXJrZXIoaW5kZXgsIGNlbGxOdW0sIGNvbG9yLCBzZWxlY3RlZENvbHVtbik7XG4gICAgICBhcHAuY2hhbmdlVHVybigpO1xuICAgICAgYXBwLmNoZWNrRm9yV2luKGksIHgsIHksIGNvbG9yKTtcbiAgICAgIGFwcC50aWVHYW1lKCk7XG4gICAgfVxuICB9KTtcbn1cblxuYXBwLnBsYWNlTWFya2VyID0gZnVuY3Rpb24oaW5kZXgsIGNlbGxOdW0sIGNvbG9yLCBzZWxlY3RlZENvbHVtbikge1xuICBhcHAucmFuZG9tQ29sb3IgPSBhcHAuY2hhb3NDb2xvcnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYXBwLmNoYW9zQ29sb3JzLmxlbmd0aCkgKyAxXTtcbiAgaWYgKGFwcC5jaGFvc01vZGUgPT09IHRydWUpIHtcbiAgICAkKGAuY29sdW1uLSR7aW5kZXh9IC5jZWxsLSR7Y2VsbE51bX1gKS5hcHBlbmQoYDxkaXYgY2xhc3M9XCJwaWVjZSBhbmltYXRlZCBqZWxsbyBpbmZpbml0ZSBmYXN0ZXJcIj48L2Rpdj5gKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBgJHthcHAucmFuZG9tQ29sb3J9YCk7XG4gIH0gZWxzZSB7XG4gICAgJChgLmNvbHVtbi0ke2luZGV4fSAuY2VsbC0ke2NlbGxOdW19YCkuYXBwZW5kKGA8ZGl2IGNsYXNzPVwicGllY2UgJHtjb2xvcn0gYW5pbWF0ZWQgZmFkZUluRG93bkJpZyBmYXN0ZXJcIj48L2Rpdj5gKTtcbiAgfVxuICBzZWxlY3RlZENvbHVtbi5wdXNoKGAke2NvbG9yfWApO1xufVxuXG5hcHAuY2hhbmdlVHVybiA9IGZ1bmN0aW9uKCkge1xuICBjb25zdCBjdXJyZW50Q29sb3IgPSBhcHAubmV4dFR1cm5bYXBwLm5leHRUdXJuLmxlbmd0aCAtIDFdO1xuICBpZiAoY3VycmVudENvbG9yID09PSAncmVkJykge1xuICAgIGFwcC5uZXh0VHVybi5wdXNoKCd5ZWxsb3cnKTtcbiAgICAkKCcudHVybi1pbmRpY2F0b3InKS50ZXh0KGBZZWxsb3dgKTtcbiAgfSBlbHNlIGlmIChjdXJyZW50Q29sb3IgPT09ICd5ZWxsb3cnKSB7XG4gICAgYXBwLm5leHRUdXJuLnB1c2goJ3JlZCcpO1xuICAgICQoJy50dXJuLWluZGljYXRvcicpLnRleHQoYFJlZGApO1xuICB9XG59O1xuXG5hcHAuY2hlY2tGb3JXaW4gPSBmdW5jdGlvbihpLCB4LCB5LCBjb2xvcikge1xuICBhcHAuY2hlY2tGb3JWZXJ0aWNhbFdpbihpLCB4LCB5LCBjb2xvcik7XG4gIGFwcC5jaGVja0Zvckhvcml6b250YWxXaW4oaSwgeCwgeSwgY29sb3IpO1xuICBhcHAuY2hlY2tGb3JEaWFnb25hbFdpbihpLCB4LCB5LCBjb2xvcik7XG4gIGFwcC5jaGVja0Zvck90aGVyV2lucyhpLCB4LCB5LCBjb2xvcik7XG59XG5cbmFwcC5jaGVja0ZvclZlcnRpY2FsV2luID0gZnVuY3Rpb24oaSwgeCwgeSwgY29sb3IpIHtcbiAgaWYgKGlbeF1beV0gPT09IGlbeF1beSAtIDFdICYmIGlbeF1beV0gPT09IGlbeF1beSAtIDJdICYmIGlbeF1beV0gPT09IGlbeF1beSAtIDNdKSB7XG4gICAgYXBwLmFsZXJ0V2luKGNvbG9yKTtcbiAgfVxufVxuXG5hcHAuY2hlY2tGb3JEaWFnb25hbFdpbiA9IGZ1bmN0aW9uKGksIHgsIHksIGNvbG9yKSB7XG4gIGlmIChcbiAgICAvLyBESUFHT05BTCBXSU5TIChUT1AtTEVGVCBUTyBCT1RUT00tUklHSFQgPSBUTC1CUiwgQk9UVE9NLUxFRlQgVE8gVE9QLVJJR0hUID0gQkwtVFIpIChQT1MgKi80ID0gTEVGVC1UTy1SSUdIVClcbiAgICAoaVt4ICsgM10gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggKyAzXVt5IC0gM10gJiYgaVt4ICsgMl0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggKyAyXVt5IC0gMl0gJiYgaVt4ICsgMV0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggKyAxXVt5IC0gMV0pIHx8IC8vIFRMLUJSIFBPUyAxLzRcbiAgICAoaVt4ICsgMl0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggKyAyXVt5IC0gMl0gJiYgaVt4ICsgMV0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggKyAxXVt5IC0gMV0gJiYgaVt4IC0gMV0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggLSAxXVt5ICsgMV0pIHx8IC8vIFRMLUJSIFBPUyAyLzRcbiAgICAoaVt4ICsgMV0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggKyAxXVt5IC0gMV0gJiYgaVt4IC0gMV0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggLSAxXVt5ICsgMV0gJiYgaVt4IC0gMl0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggLSAyXVt5ICsgMl0pIHx8IC8vIFRMLUJSIFBPUyAzLzRcbiAgICAoaVt4ICsgM10gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggKyAzXVt5ICsgM10gJiYgaVt4ICsgMl0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggKyAyXVt5ICsgMl0gJiYgaVt4ICsgMV0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggKyAxXVt5ICsgMV0pIHx8IC8vIEJMLVRSIFBPUyAxLzRcbiAgICAoaVt4ICsgMl0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggKyAyXVt5ICsgMl0gJiYgaVt4ICsgMV0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggKyAxXVt5ICsgMV0gJiYgaVt4IC0gMV0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggLSAxXVt5IC0gMV0pIHx8IC8vIEJMLVRSIFBPUyAyLzRcbiAgICAoaVt4ICsgMV0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggKyAxXVt5ICsgMV0gJiYgaVt4IC0gMV0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggLSAxXVt5IC0gMV0gJiYgaVt4IC0gMl0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggLSAyXVt5IC0gMl0pICAgIC8vIEJMLVRSIFBPUyAzLzRcbiAgICApIHtcbiAgICBhcHAuYWxlcnRXaW4oY29sb3IpO1xuICB9XG59XG5cbmFwcC5jaGVja0Zvckhvcml6b250YWxXaW4gPSBmdW5jdGlvbihpLCB4LCB5LCBjb2xvcikge1xuICBpZiAoXG4gICAgKGlbeCArIDNdICE9PSB1bmRlZmluZWQgJiYgaVt4XVt5XSA9PT0gaVt4ICsgM11beV0gJiYgaVt4ICsgMl0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggKyAyXVt5XSAmJiBpW3ggKyAxXSAhPT0gdW5kZWZpbmVkICYmIGlbeF1beV0gPT09IGlbeCArIDFdW3ldKSB8fFxuICAgIChpW3ggKyAyXSAhPT0gdW5kZWZpbmVkICYmIGlbeF1beV0gPT09IGlbeCArIDJdW3ldICYmIGlbeCArIDFdICE9PSB1bmRlZmluZWQgJiYgaVt4XVt5XSA9PT0gaVt4ICsgMV1beV0gJiYgaVt4IC0gMV0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggLSAxXVt5XSkgfHxcbiAgICAoaVt4ICsgMV0gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggKyAxXVt5XSAmJiBpW3ggLSAxXSAhPT0gdW5kZWZpbmVkICYmIGlbeF1beV0gPT09IGlbeCAtIDFdW3ldICYmIGlbeCAtIDJdICE9PSB1bmRlZmluZWQgJiYgaVt4XVt5XSA9PT0gaVt4IC0gMl1beV0pIFxuICAgICkge1xuICAgICAgYXBwLmFsZXJ0V2luKGNvbG9yKTtcbiAgICB9XG4gIH1cblxuYXBwLmNoZWNrRm9yT3RoZXJXaW5zID0gZnVuY3Rpb24oaSwgeCwgeSwgY29sb3IpIHtcbiAgaWYgKFxuICAgIChpW3ggLSAxXSAhPT0gdW5kZWZpbmVkICYmIGlbeF1beV0gPT09IGlbeCAtIDFdW3kgKyAxXSAmJiBpW3ggLSAyXSAhPT0gdW5kZWZpbmVkICYmIGlbeF1beV0gPT09IGlbeCAtIDJdW3kgKyAyXSAmJiBpW3ggLSAzXSAhPT0gdW5kZWZpbmVkICYmIGlbeF1beV0gPT09IGlbeCAtIDNdW3kgKyAzXSkgfHwgLy8gVEwtQlIgUE9TIDQvNFxuICAgIChpW3ggLSAxXSAhPT0gdW5kZWZpbmVkICYmIGlbeF1beV0gPT09IGlbeCAtIDFdW3kgLSAxXSAmJiBpW3ggLSAyXSAhPT0gdW5kZWZpbmVkICYmIGlbeF1beV0gPT09IGlbeCAtIDJdW3kgLSAyXSAmJiBpW3ggLSAzXSAhPT0gdW5kZWZpbmVkICYmIGlbeF1beV0gPT09IGlbeCAtIDNdW3kgLSAzXSkgfHwgLy8gQkwtVFIgUE9TIDQvNFxuICAgIChpW3ggLSAxXSAhPT0gdW5kZWZpbmVkICYmIGlbeF1beV0gPT09IGlbeCAtIDFdW3ldICYmIGlbeCAtIDJdICE9PSB1bmRlZmluZWQgJiYgaVt4XVt5XSA9PT0gaVt4IC0gMl1beV0gJiYgaVt4IC0gM10gIT09IHVuZGVmaW5lZCAmJiBpW3hdW3ldID09PSBpW3ggLSAzXVt5XSkgLy8gSE9SSVpPTlRBTCBXSU4gV0lUSCBORUdBVElWRSBYLVZBTFVFXG4gICAgKSB7XG4gICAgYXBwLmFsZXJ0V2luKGNvbG9yKTtcbiAgfVxufVxuXG5hcHAudGllR2FtZSA9IGZ1bmN0aW9uKCkge1xuICBpZiAoXG4gICAgYXBwLmNvbHVtbnMuYS5sZW5ndGggPT09IDYgJiZcbiAgICBhcHAuY29sdW1ucy5iLmxlbmd0aCA9PT0gNiAmJlxuICAgIGFwcC5jb2x1bW5zLmMubGVuZ3RoID09PSA2ICYmXG4gICAgYXBwLmNvbHVtbnMuZC5sZW5ndGggPT09IDYgJiZcbiAgICBhcHAuY29sdW1ucy5lLmxlbmd0aCA9PT0gNiAmJlxuICAgIGFwcC5jb2x1bW5zLmYubGVuZ3RoID09PSA2ICYmXG4gICAgYXBwLmNvbHVtbnMuZy5sZW5ndGggPT09IDZcbiAgICApIHtcbiAgICAgIHN3YWwoe1xuICAgICAgICB0aXRsZTogJ1RpZSBnYW1lISBQbGVhc2UgcGxheSBhZ2FpbiEnXG4gICAgICB9KVxuICAgIH1cbn1cblxuYXBwLmFsZXJ0V2luID0gZnVuY3Rpb24oY29sb3IpIHtcbiAgY29sb3IgPSBjb2xvci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGNvbG9yLnNsaWNlKDEpO1xuICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBzd2FsKHtcbiAgICAgIHRpdGxlOiBgQ29uZ3JhdHVsYXRpb25zICR7Y29sb3J9IHBsYXllciFgLFxuICAgICAgdGV4dDogYFdpbm5lciBXaW5uZXIgQ2hpY2tlbiBEaW5uZXIhIPCfjZdgLFxuICAgIH0pLnRoZW4oYXBwLnJlc2V0Qm9hcmQoKSk7XG4gIH0sIDY1MCk7XG59XG5cblxuLy8gRVZFTlQgTElTVEVORVJTXG5cbi8vIEZsaWNraXR5IGZvciBpbWFnZSBjYXJvdXNlbCBpbiBpbnN0cnVjdGlvbnMgcG9wIHVwXG4kKCcuaW5zdHJ1Y3Rpb25zLWltYWdlcy1jYXJvdXNlbCcpLmZsaWNraXR5KHtcbiAgY2VsbEFsaWduOiAnY2VudGVyJyxcbiAgY29udGFpbjogdHJ1ZSxcbiAgd3JhcEFyb3VuZDogdHJ1ZVxufSk7XG5cbi8vIEJ1dHRvbiB0byBzaG93IGluc3RydWN0aW9uc1xuJCgnLmluc3RydWN0aW9ucy1idXR0b24nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgJCgnLmluc3RydWN0aW9ucy1wb3Atb3V0LWNvbnRhaW5lcicpLnNob3coKTtcbiAgJCgnLmluc3RydWN0aW9ucy1pbWFnZXMtY2Fyb3VzZWwnKS5zaG93KCkuZmxpY2tpdHkoJ3Jlc2l6ZScpO1xufSlcblxuLy8gSWNvbiB0byBoaWRlIGluc3RydWN0aW9uc1xuJCgnLmluc3RydWN0aW9ucy1leGl0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICQoJy5pbnN0cnVjdGlvbnMtcG9wLW91dC1jb250YWluZXInKS5oaWRlKCk7XG59KVxuXG4vLyBQbGF5IGFnYWluIGJ1dHRvbiB0aGF0IGNsZWFycyBib2FyZCBhbmQgYXJyYXlzXG4kKCcucGxheS1hZ2Fpbi1idXR0b24nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgYXBwLnJlc2V0Qm9hcmQoKTtcbn0pXG5cbmFwcC5yZXNldEJvYXJkID0gKCkgPT4ge1xuICAkKCdidXR0b24nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgYXBwLmNvbHVtbnMgPSB7XG4gICAgICBhOiBbXSxcbiAgICAgIGI6IFtdLFxuICAgICAgYzogW10sXG4gICAgICBkOiBbXSxcbiAgICAgIGU6IFtdLFxuICAgICAgZjogW10sXG4gICAgICBnOiBbXSxcbiAgICAgIGg6IFtdLFxuICAgICAgaTogW10sXG4gICAgICBqOiBbXVxuICAgIH1cbiAgICAkKCcucGllY2UnKS5yZW1vdmUoKTtcbiAgICAkKCcuY2VsbCcpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsICd3aGl0ZScpO1xuICB9KVxufVxuXG4vLyBDaGFvcyBtb2RlIGJ1dHRvbiBmb3IgbW9iaWxlXG4kKCcuY2hhb3MtYnV0dG9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICQoJy5pbnN0cnVjdGlvbnMtcG9wLW91dC1jb250YWluZXInKS5oaWRlKCk7XG4gIGFwcC5jaGFvc01vZGUgPSB0cnVlO1xuICBhcHAua29uYW1pQ29kZVBvc2l0aW9uID0gMDtcbiAgY29uc3QgdGV4dCA9ICdsaWZlIGlzIGNoYW9zIPCfmIgnLnRvVXBwZXJDYXNlKCk7XG4gIHN3YWwoe1xuICAgIHRpdGxlOiB0ZXh0LFxuICAgIGNvbnRlbnQ6ICdhJ1xuICB9KTtcbiAgYXBwLmNoYW9zVGl0bGUoKTtcbn0pXG5cbi8vIENIQU9TIE1PREVcbi8vIEtvbmFtaSBjb2RlIGNyZWRpdDogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzE2MjY4NTIvaG93LXRvLWFkZC1rb25hbWktY29kZS1pbi1hLXdlYnNpdGUtYmFzZWQtb24taHRtbFxuXG5hcHAuYWxsb3dlZEtleXMgPSB7XG4gIDc2OiAnbCcsXG4gIDczOiAnaScsXG4gIDcwOiAnZicsXG4gIDY5OiAnZScsXG4gIDgzOiAncycsXG4gIDY3OiAnYycsXG4gIDcyOiAnaCcsXG4gIDY1OiAnYScsXG4gIDc5OiAnbydcbn07XG5cbmFwcC5rb25hbWlDb2RlID0gWydsJywgJ2knLCAnZicsICdlJywgJ2knLCAncycsICdjJywgJ2gnLCAnYScsICdvJywgJ3MnXTtcbmFwcC5rb25hbWlDb2RlUG9zaXRpb24gPSAwO1xuYXBwLmNoYW9zTW9kZSA9IGZhbHNlO1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHtcbiAgY29uc3Qga2V5ID0gYXBwLmFsbG93ZWRLZXlzW2Uua2V5Q29kZV07XG4gIGNvbnN0IHJlcXVpcmVkS2V5ID0gYXBwLmtvbmFtaUNvZGVbYXBwLmtvbmFtaUNvZGVQb3NpdGlvbl07XG4gIGlmIChrZXkgPT09IHJlcXVpcmVkS2V5KSB7XG4gICAgYXBwLmtvbmFtaUNvZGVQb3NpdGlvbisrO1xuICAgIGlmIChhcHAua29uYW1pQ29kZVBvc2l0aW9uID09PSBhcHAua29uYW1pQ29kZS5sZW5ndGgpIHtcbiAgICAgIGFwcC5jaGFvc01vZGUgPSB0cnVlO1xuICAgICAgYXBwLmtvbmFtaUNvZGVQb3NpdGlvbiA9IDA7XG4gICAgICBjb25zdCB0ZXh0ID0gJ2xpZmUgaXMgY2hhb3Mg8J+YiCcudG9VcHBlckNhc2UoKTtcbiAgICAgIHN3YWwoe1xuICAgICAgICB0aXRsZTogdGV4dCxcbiAgICAgIH0pO1xuICAgICAgYXBwLmNoYW9zVGl0bGUoKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgYXBwLmtvbmFtaUNvZGVQb3NpdGlvbiA9IDA7XG4gIH1cbn0pXG5hcHAuY2hhb3NUaXRsZSA9IGZ1bmN0aW9uKCkge1xuICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgcmFuZG9tID0gKGFwcC5jaGFvc0NvbG9yc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhcHAuY2hhb3NDb2xvcnMubGVuZ3RoKV0pLnRvU3RyaW5nKCk7XG4gICAgY29uc3QgdGV4dCA9ICgnbGlmZSBpcyBjaGFvcycpLnRvVXBwZXJDYXNlKCk7XG4gICAgJCgnLm1haW4tdGl0bGUnKS50ZXh0KGAke3RleHR9YCk7XG4gICAgJCgnLm1haW4tdGl0bGUnKS5jc3MoJ2NvbG9yJywgYCR7cmFuZG9tfWApO1xuICB9LCA1MClcbn1cblxuLy8gSU5JVFxuYXBwLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgYXBwLmFkZFBpZWNlKCk7XG59XG5cblxuLy8gRE9DVU1FTlQgUkVBRFlcbiQoZnVuY3Rpb24oKSB7XG4gIGFwcC5pbml0KCk7XG59KSJdfQ==
